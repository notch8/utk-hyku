<%# OVERRIDE Hyrax 3.4.1 to change behovior of #depositor %>
<div>
  <div class="featured-item-title">
    <span class="sr-only"><%= t('hyrax.homepage.featured_works.document.title_label') %></span>
    <h3>
      <%= link_to [main_app, featured] do %>
        <%= render_thumbnail_tag(featured, {alt: "#{featured.title.first.to_s} #{ t('hyrax.homepage.admin_sets.thumbnail')}" }, {suppress_link: true}) + featured.title.first %>
      <% end %>
    </h3>
  </div>
  <div class="featured-field featured-item-depositor">
    <span class="featured-label"><%= t('hyrax.homepage.featured_works.document.depositor_label') %>:</span>
    <%# OVERRIDE BEGIN %>
    <%# Allinson Flex changed where #deposit was coming from, now it does not take an argrument %>
    <% document_depositor = featured.try(:depositor) %>
    <%= link_to_profile document_depositor.blank? ? t('hyrax.homepage.featured_works.document.depositor_missing') : document_depositor %>
    <%# OVERRIDE END %>
  </div>
  <div class="featured-field featured-item-keywords">
    <span class="featured-label"><%= t('hyrax.homepage.featured_works.document.keyword_label') %>:</span> <%= link_to_facet_list(featured.keyword, 'keyword', t('hyrax.homepage.featured_works.document.keyword_missing')) %>
  </div>
</div>
